{% extends "page_template.html" %}
{% block extraFiles %}
    <style>
      a {
        padding-right: 50px;
      }
      button {
        margin-bottom: 7px;
        margin-left: 20px;
        vertical-align: 6px;
      }
      p {
        padding-bottom: 3px;
      }
      .filter-details {
        display: none;
        padding-bottom: 5px;
        padding-left: 18px;
      }
      .filter-details-text {
        background-color: rgb(180, 211, 173);
        border-radius: 6px;
        display: inline-block;
        margin-right: 20px;
        padding: 2px 4px 3px 4px;
      }
      .filter-item {
        padding-left: 15px;
        padding-top: 20px;
      }
      .filter-name {
        min-width: 450px;
      }
      .link-list {
        padding-left: 20px;
      }
    </style>
    <script>
        (($) => {
          $(document).ready(() => {
            $('.click-show-hide').click((e) => {
                $(`#${e.currentTarget.id.split('-toggle')[0]}`).toggle();
            });
          });
        })(jQuery);
    </script>
{% endblock %}
{% block menuFiltersClass %}pl-highlight{% endblock %}
{% block content %}
    <div class="{{ templateHelpers.classes.grid }} mt4">
        <div>
            <h1>Select a filter</h1>
            {% for filter, parts in filter_sets %}
                <div class="filter-item">
                    <div>
                        <h3 style="display: inline-block;" class="filter-name">{{ filter.name }}</h3>
                        <button id="{{ filter.slug }}-toggle" style="display: inline;"
                            class="click-show-hide {{ templateHelpers.classes.smallButton }} {{ templateHelpers.classes.bluePriButton }}">
                            Show filter details
                        </button>
                    </div>
                    <div id="{{ filter.slug }}" class="filter-details">
                        {% for part in parts %}
                            <p class="filter-details-text">{{ part.prop|title }}: {{ part.filter_val }}</p>
                        {% endfor %}
                    </div>
                    <div class="link-list">
                        <a href="{% url 'plr:reports_dashboard' %}{{ filter.slug }}">Dashboard view</a>
                        <a href="{% url 'plr:reports_browse' %}{{ filter.slug }}">Report-card view</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
